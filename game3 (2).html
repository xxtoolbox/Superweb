<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Name the One (3/3)</title>
  
<style>
:root{
  --bg:#0d0d0d; --card:#141414; --text:#f5f5f5; --muted:#bdbdbd;
  --brand:#ff4747; --brand-hover:#e03a3a; --success:#00e29b; --danger:#ff6b6b;
}
*{box-sizing:border-box} html,body{height:100%}
body{ margin:0; background:var(--bg); color:var(--text);
  font-family:'Segoe UI', Roboto, system-ui, -apple-system, sans-serif;
  display:flex; align-items:center; justify-content:center; padding:24px; }
.wrapper{width:min(520px, 100%); display:flex; flex-direction:column; gap:16px; align-items:center}
h1{color:var(--brand); font-size:1.9rem; margin:0}
p.lead{color:var(--muted); text-align:center; margin:0}
.card{ width:100%; background:var(--card); border:1px solid #1f1f1f; border-radius:16px; padding:18px;
  display:flex; flex-direction:column; gap:12px; align-items:center; box-shadow:0 6px 24px rgba(0,0,0,.25); }
label{font-weight:600}
.input-row{display:flex; gap:10px; width:100%;}
input[type="text"]{ flex:1; padding:12px 14px; border-radius:10px; border:1px solid var(--brand);
  background:#1a1a1a; color:var(--text); font-size:16px; outline:none; }
input[type="text"]:focus{ box-shadow:0 0 0 3px rgba(255,71,71,.28); }
button{ padding:12px 16px; border:none; border-radius:10px; font-size:15px; cursor:pointer; }
.primary{ background:var(--brand); color:#fff; }
.primary:hover{ background:var(--brand-hover); }
.ghost{ background:#1a1a1a; color:var(--text); border:1px solid #2a2a2a; }
.meta{display:flex; gap:12px; align-items:center; justify-content:space-between; width:100%;}
#status{ min-height:1.4em; font-weight:700; }
#lives{ font-size:1.1rem; letter-spacing:.2rem; }
.hint{ color:var(--muted); transition:opacity .2s ease; opacity:.85; }
.actions{ display:flex; gap:10px; width:100%; }
.resume{ margin-top:6px; align-self:flex-start; }
@keyframes shakeK { 10%,90%{transform:translateX(-1px);} 20%,80%{transform:translateX(2px);} 30%,50%,70%{transform:translateX(-4px);} 40%,60%{transform:translateX(4px);} }
.shake{ animation: shakeK .4s linear; }
footer.note{ color:#7e7e7e; font-size:.85rem; text-align:center; }
canvas#confetti{ position:fixed; inset:0; pointer-events:none; }
</style>

</head>
<body data-level="level3" data-answer="Amsterdam" data-next="success.html" data-hint="Get ready for canals and tulips üå∑">
  <div class="wrapper">
    <h1>Name the One (3/3)</h1>
    <p class="lead">What is the first place we are going to travel together?</p>
    <div class="card">
      <div class="meta" aria-live="polite"><div id="status"></div><div id="lives" title="Lives"></div></div>
      <label id="guessLabel" for="guessInput">Your answer</label>
      <div class="input-row">
        <input type="text" id="guessInput" placeholder="Type your answer..." autocomplete="off" />
        <button id="checkBtn" class="primary" aria-label="Check answer" onclick="checkAnswer()">Check</button>
      </div>
      <div class="actions">
        <button id="hintBtn" class="ghost" aria-describedby="hint" onclick="showHint()">Hint</button>
      </div>
      <div id="hint" class="hint" role="note"></div>
    </div>
    <footer class="note">Answers are case-insensitive and ignore spaces.</footer>
  </div>
  <script>
  (function() {
    // --- Inline game logic (no external JS) ---
    function sanitize(s) { return (s||'').toString().replace(/[\s\W_]+/g, '').toUpperCase(); }
    var body = document.body;
    var ANSWER = sanitize(body.getAttribute('data-answer'));
    var NEXT = body.getAttribute('data-next') || '';
    var HINT = body.getAttribute('data-hint') || '';
    var MAX = 3;
    var lives = MAX;

    var input = document.getElementById('guessInput');
    var status = document.getElementById('status');
    var livesEl = document.getElementById('lives');
    var hintEl = document.getElementById('hint');
    var checkBtn = document.getElementById('checkBtn');

    function updateLives() {
      if (!livesEl) return;
      var hearts = '‚ù§Ô∏è'.repeat(lives) + 'üñ§'.repeat(MAX - lives);
      livesEl.textContent = hearts;
    }
    updateLives();

    window.showHint = function showHint() {
      hintEl.textContent = HINT;
      hintEl.style.opacity = '1';
    };

    function shake() {
      var card = document.querySelector('.card');
      if (!card) return;
      card.classList.remove('shake'); void card.offsetWidth; card.classList.add('shake');
    }

    window.checkAnswer = function checkAnswer() {
      var val = sanitize(input.value);
      if (!val) { status.style.color = 'var(--danger)'; status.textContent = 'Please type something first.'; shake(); return; }
      if (val === ANSWER) {
        status.style.color = 'var(--success)';
        status.textContent = '‚úÖ Correct! Moving on... ';
        // Add continue button as fallback
        var resolved = NEXT ? new URL(NEXT, location.href).href : new URL('success.html', location.href).href;
        var a = document.createElement('a'); a.href = resolved; a.textContent = 'Continue ‚Üí';
        a.className = 'primary'; a.style.marginLeft = '8px'; a.style.padding = '6px 10px'; a.style.borderRadius = '8px'; a.style.textDecoration = 'none';
        status.appendChild(a);
        // Try navigation
        try { location.assign(resolved); } catch(e) {}
        setTimeout(function() { try { location.href = resolved; } catch(e) {} }, 300);
      } else {
        lives = Math.max(0, lives - 1); updateLives();
        status.style.color = 'var(--danger)';
        status.textContent = lives > 0 ? '‚ùå Nope, try again! (' + lives + ' ' + (lives===1?'life':'lives') + ' left)' : 'üòÖ Out of lives for now. Refresh to try again!';
        shake();
      }
    };

    // Enter key submits
    if (input) input.addEventListener('keydown', function(e) { if (e.key === 'Enter') { e.preventDefault(); window.checkAnswer(); } });
  })();
  </script>
</body>
</html>
